---
layout: layouts/base.njk
title: Productos
description: Explora salsas, granolas y productos de bienestar artesanales de Creaciones Colibrí.
locale: es
search: true
localeLinks:
  en: /products/
---

{% set translations = collections.i18n and collections.i18n[0].data.i18n %}
{% set defaultLocale = site.locale | default('en') %}
{% set currentLocale = locale | default('es') %}
{% set localeStrings = translations and translations[currentLocale] %}
{% if localeStrings == null and translations and translations['es'] %}
  {% set localeStrings = translations['es'] %}
{% endif %}
{% set fallbackStrings = translations and translations['en'] %}
{% set catalogPageStrings = localeStrings and localeStrings.catalogPage %}
{% if catalogPageStrings == null and fallbackStrings %}
  {% set catalogPageStrings = fallbackStrings.catalogPage %}
{% endif %}
{% set catalogPageStrings = catalogPageStrings or {} %}
{% set searchStrings = catalogPageStrings.search or {} %}
{% set filterStrings = catalogPageStrings.filters or {} %}

{% set catalogData = catalog.catalog %}
{% if catalogData == null %}
  {% set catalogData = catalog %}
{% endif %}
{% set categories = catalogData.categories %}
{% set dietaryTags = catalogData.dietaryTags %}
{% set benefitTags = catalogData.benefitTags %}

<section class="page-intro">
  <h1 class="page-title">{{ catalogPageStrings.title or 'Nuestra despensa' }}</h1>
  <p class="page-subtitle">{{ catalogPageStrings.subtitle or 'Selecciona tu categoría favorita o usa la búsqueda para encontrar sabores, ingredientes o beneficios en español.' }}</p>
</section>

<section
  class="search-panel"
  data-search-root
  data-search-endpoint="{{ '/es/search.json' | url }}"
  data-search-empty="{{ searchStrings.emptyMessage or 'No encontramos productos con esos criterios. Ajusta los filtros o el término de búsqueda.' }}"
  data-search-error="{{ searchStrings.errorMessage or 'La búsqueda no está disponible en este momento. Inténtalo más tarde.' }}"
  data-search-clear-label="{{ searchStrings.clearLabel or 'Limpiar' }}"
  data-search-status-idle="{{ searchStrings.statusIdle or 'Escribe un producto o usa los filtros para ver coincidencias.' }}"
  data-search-status-cleared="{{ searchStrings.statusCleared or 'Búsqueda reiniciada. Explora las categorías abajo o empieza a escribir para filtrar.' }}"
  data-search-status-single="{{ searchStrings.statusSingle or '1 resultado coincide con tus filtros.' }}"
  data-search-status-multiple="{{ searchStrings.statusMultiple or '%count% resultados coinciden con tus filtros.' }}"
  data-search-status-empty="{{ searchStrings.statusEmpty or 'No hay resultados que coincidan con tus filtros.' }}"
  data-search-status-error="{{ searchStrings.statusError or searchStrings.errorMessage or 'La búsqueda no está disponible en este momento. Inténtalo más tarde.' }}"
  data-search-ai-badge="{{ searchStrings.aiBadge or 'Concepto generado con IA' }}">
  <div class="search-panel__header">
    <h2>{{ searchStrings.title or 'Busca en la despensa' }}</h2>
    <p>{{ searchStrings.intro or 'Descubre ingredientes, beneficios o productos específicos en español.' }}</p>
  </div>
  <div class="search-panel__controls">
    <label class="search-panel__label" for="catalogo-busqueda">{{ searchStrings.label or 'Buscar productos' }}</label>
    <div class="search-panel__input-group">
      <input
        id="catalogo-busqueda"
        class="search-panel__input"
        type="search"
        name="search"
        placeholder="{{ searchStrings.placeholder or 'Prueba “jengibre”, “vegana” o “cacao”' }}"
        autocomplete="off"
        data-search-input>
      <button class="button button-secondary search-panel__clear" type="button" data-search-clear>
        {{ searchStrings.clearLabel or 'Limpiar' }}
      </button>
    </div>
  </div>
  <p class="search-panel__status" data-search-status aria-live="polite" role="status">
    {{ searchStrings.statusIdle or 'Escribe un producto o usa los filtros para ver coincidencias.' }}
  </p>
  <div class="search-filters">
    {% if categories and categories | length > 0 %}
      <fieldset class="filter-group">
        <legend class="filter-group__title">{{ filterStrings.categories or 'Categorías' }}</legend>
        <div class="filter-list">
          {% for category in categories %}
            {% set categorySlug = category.slug | default(category.id) %}
            {% set inputId = 'filtro-categoria-' ~ categorySlug %}
            <label class="filter-chip" for="{{ inputId }}">
              <input
                id="{{ inputId }}"
                class="filter-chip__input"
                type="checkbox"
                value="{{ category.name }}"
                data-filter-checkbox
                data-filter-type="category">
              <span class="filter-chip__label">{{ category.name }}</span>
            </label>
          {% endfor %}
        </div>
      </fieldset>
    {% endif %}

    {% if dietaryTags and dietaryTags | length > 0 %}
      <fieldset class="filter-group">
        <legend class="filter-group__title">{{ filterStrings.dietary or 'Dietas' }}</legend>
        <div class="filter-list">
          {% for tag in dietaryTags %}
            {% set inputId = 'filtro-dieta-' ~ tag.slug %}
            <label class="filter-chip" for="{{ inputId }}">
              <input
                id="{{ inputId }}"
                class="filter-chip__input"
                type="checkbox"
                value="{{ tag.tag }}"
                data-filter-checkbox
                data-filter-type="dietary">
              <span class="filter-chip__label">{{ tag.tag }}</span>
            </label>
          {% endfor %}
        </div>
      </fieldset>
    {% endif %}

    {% if benefitTags and benefitTags | length > 0 %}
      <fieldset class="filter-group">
        <legend class="filter-group__title">{{ filterStrings.benefits or 'Beneficios' }}</legend>
        <div class="filter-list">
          {% for tag in benefitTags %}
            {% set inputId = 'filtro-beneficio-' ~ tag.slug %}
            <label class="filter-chip" for="{{ inputId }}">
              <input
                id="{{ inputId }}"
                class="filter-chip__input"
                type="checkbox"
                value="{{ tag.tag }}"
                data-filter-checkbox
                data-filter-type="benefits">
              <span class="filter-chip__label">{{ tag.tag }}</span>
            </label>
          {% endfor %}
        </div>
      </fieldset>
    {% endif %}
  </div>
  <div
    class="search-results"
    data-search-results
    aria-live="polite"
    aria-busy="false"></div>
</section>

{% if categories and categories | length > 0 %}
  {% for category in categories %}
    {% set categorySlug = category.slug | default(category.id) %}
    <section class="product-category" id="categoria-{{ categorySlug }}">
      <div class="product-category__headline">
        <h2>{{ category.name }}</h2>
      </div>
      <div class="product-grid">
        {% for product in category.products %}
          {% include "partials/product-card.njk" %}
        {% endfor %}
      </div>
    </section>
  {% endfor %}
{% endif %}
