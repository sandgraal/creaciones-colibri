---
layout: layouts/base.njk
title: Productos
locale: es
search: true
localeLinks:
  en: /products/
---

{% assign translations = collections.i18n[0].data.i18n %}
{% assign t = translations.es %}
{% assign catalogData = catalog.catalog %}
{% if catalogData == nil %}
  {% assign catalogData = catalog %}
{% endif %}
{% assign categories = catalogData.categories %}
{% assign dietaryTags = catalogData.dietaryTags %}
{% assign benefitTags = catalogData.benefitTags %}

<section class="page-intro">
  <h1 class="page-title">Nuestra despensa</h1>
  <p class="page-subtitle">Selecciona tu categoría favorita o usa la búsqueda para encontrar sabores, ingredientes o beneficios en español.</p>
</section>

<section
  class="search-panel"
  data-search-root
  data-search-endpoint="{{ '/es/search.json' | url }}"
  data-search-empty="No encontramos productos con esos criterios. Ajusta los filtros o el término de búsqueda."
  data-search-error="La búsqueda no está disponible en este momento. Inténtalo más tarde."
  data-search-clear-label="Limpiar">
  <div class="search-panel__header">
    <h2>Busca en la despensa</h2>
    <p>Descubre ingredientes, beneficios o productos específicos en español.</p>
  </div>
  <div class="search-panel__controls">
    <label class="search-panel__label" for="catalogo-busqueda">Buscar productos</label>
    <div class="search-panel__input-group">
      <input
        id="catalogo-busqueda"
        class="search-panel__input"
        type="search"
        name="search"
        placeholder="Prueba “jengibre”, “vegana” o “cacao”"
        autocomplete="off"
        data-search-input>
      <button class="button button-secondary search-panel__clear" type="button" data-search-clear>Limpiar</button>
    </div>
  </div>
  <div class="search-filters">
    {% if categories and categories | size > 0 %}
      <fieldset class="filter-group">
        <legend class="filter-group__title">Categorías</legend>
        <div class="filter-list">
          {% for category in categories %}
            {% assign categorySlug = category.slug | default: category.id %}
            {% assign inputId = 'filtro-categoria-' | append: categorySlug %}
            <label class="filter-chip" for="{{ inputId }}">
              <input
                id="{{ inputId }}"
                class="filter-chip__input"
                type="checkbox"
                value="{{ category.name }}"
                data-filter-checkbox
                data-filter-type="category">
              <span class="filter-chip__label">{{ category.name }}</span>
            </label>
          {% endfor %}
        </div>
      </fieldset>
    {% endif %}

    {% if dietaryTags and dietaryTags | size > 0 %}
      <fieldset class="filter-group">
        <legend class="filter-group__title">Dietas</legend>
        <div class="filter-list">
          {% for tag in dietaryTags %}
            {% assign inputId = 'filtro-dieta-' | append: tag.slug %}
            <label class="filter-chip" for="{{ inputId }}">
              <input
                id="{{ inputId }}"
                class="filter-chip__input"
                type="checkbox"
                value="{{ tag.tag }}"
                data-filter-checkbox
                data-filter-type="dietary">
              <span class="filter-chip__label">{{ tag.tag }}</span>
            </label>
          {% endfor %}
        </div>
      </fieldset>
    {% endif %}

    {% if benefitTags and benefitTags | size > 0 %}
      <fieldset class="filter-group">
        <legend class="filter-group__title">Beneficios</legend>
        <div class="filter-list">
          {% for tag in benefitTags %}
            {% assign inputId = 'filtro-beneficio-' | append: tag.slug %}
            <label class="filter-chip" for="{{ inputId }}">
              <input
                id="{{ inputId }}"
                class="filter-chip__input"
                type="checkbox"
                value="{{ tag.tag }}"
                data-filter-checkbox
                data-filter-type="benefits">
              <span class="filter-chip__label">{{ tag.tag }}</span>
            </label>
          {% endfor %}
        </div>
      </fieldset>
    {% endif %}
  </div>
  <div class="search-results" data-search-results></div>
</section>

  {% if categories and categories | size > 0 %}
    {% for category in categories %}
      {% assign categorySlug = category.slug | default: category.id %}
      <section class="product-category" id="categoria-{{ categorySlug }}">
        <div class="product-category__headline">
          <h2>{{ category.name }}</h2>
        </div>
        <div class="product-grid">
          {% for product in category.products %}
            {% assign fallbackUrl = '/es/productos/' | append: product.id | append: '/' %}
            {% assign productUrl = product.url | default: fallbackUrl %}
            <article class="product-card">
              <a class="product-card__link" href="{{ productUrl | url }}">
                <div class="product-card__media">
                  <img src="{{ product.image.src | url }}" alt="{{ product.image.alt }}">
                </div>
                <div class="product-card__content">
                  <h3 class="product-card__title">{{ product.name }}</h3>
                  <p class="product-card__summary">{{ product.shortDescription }}</p>
                </div>
              </a>
              <div class="product-card__footer">
                <div class="product-card__price">
                  <span class="product-card__amount">${{ product.price }}</span>
                  <span class="product-card__unit">{{ product.unit }}</span>
                </div>
                <a class="button button-secondary product-card__cart" href="{{ productUrl | url }}">Ver detalles</a>
              </div>
            </article>
          {% endfor %}
        </div>
      </section>
    {% endfor %}
  {% endif %}
